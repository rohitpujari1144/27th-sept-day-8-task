<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- 1. Solving problems using array functions on the rest countries data. -->

    <script>
        var xmlRequest = new XMLHttpRequest();
        xmlRequest.open('GET','https://restcountries.com/v3.1/all',true);
        xmlRequest.send();
        xmlRequest.onload = function()
            {
                var data = JSON.parse(xmlRequest.response);
                console.log(data)

                // a. Get all the countries from the Asia continent /region using the Filter function

                let regionAsia = data.filter((element)=>
                element.region == "Asia"
                    )
                console.log(regionAsia);

                // b. Get all the countries with a population of less than 2 lakhs using Filter function
                let population = data.filter((element)=>element.population<200000)
                console.log(population);

                // c. Print the following details name, capital, flag using forEach function
                let detail = data.forEach(element =>
                    {
                        console.log(`1)Name: ${element.name.common} 2)capital: ${element.capital} 3)flag: ${element.flags.png}`);
                    });

                // d. Print the total population of countries using reduce function
                let TotalPopulation = data.reduce((acc,element)=>acc+element.population,0)
                console.log(TotalPopulation);

                // e. Print the country which uses US Dollars as currency.
                data.filter((element)=>
                    {
                        for(key of Object.keys(element.currencies))
                            {
                                if(key=="USD")
                                    {
                                        console.log(element.name.common)
                                    }
                            }
                    });
            }
    </script>
</body>
</html>